{% extends "base.html" %}
{% block title %} EMA Realtime from DataStreaming{% endblock %}
{% block script %}
	<script src="{{ url_for('static', filename='bower_components/d3/d3.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bower_components/epoch/epoch.min.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bower_components/epoch/epoch.min.css') }}">
{% endblock %}
{% block content %}

 
 <div class="container">
      	<a> Visualizando datos de la fuente {{id}} desde el servidor DataStreaming. Refresh para actualizar!</a>
        <h4>Temperatura CÂ°</h4>
        <div id="area_temp" class="epoch" style="height: 300px;width:100%"></div>
  </div>    


<script type="text/javascript">

var data_temp = [{label:'Temperatura', values:{{datos|replace("'","")|replace("u","") }}}];

var area_temp = $('#area_temp').epoch({
										type:'line', 
										data: data_temp,
										axes: ['left',  'bottom'],
										tickFormats: {bottom: function(d) { return (new Date(d)).toLocaleTimeString(); }}
									});

</script>
 

{% endblock %}